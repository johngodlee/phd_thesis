
% Language
\usepackage[utf8]{inputenc}
\usepackage[UKenglish]{babel}
\usepackage{csquotes}

\usepackage{microtype}

% Handle a nested directory structure
\usepackage{import}

% Headers
\usepackage{fancyhdr}

% Figures 
\usepackage{graphicx}
\usepackage{float}
\usepackage{subfig}

% Automatically centre images (floats)
\makeatletter
	\g@addto@macro\@floatboxreset\centering 
\makeatother

% Tables
\usepackage{multirow}
\usepackage{longtable}

% Landscape pages
\usepackage{pdflscape}

% Bibliography
\usepackage[natbib, 
	style=authoryear, 
	uniquename=false, 
	uniquelist=false,
	maxcitenames=2, 
	mincitenames=1, 
	minbibnames=10, 
	maxbibnames=10, 
	backend=biber]{biblatex}
\renewcommand*\finalnamedelim{\addspace\&\space}
\addbibresource{main.bib}

\renewcommand*{\bibfont}{\footnotesize}	

% Text 
\usepackage{textcomp}
\usepackage{siunitx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{xcolor}
\usepackage{fmtcount}

% Better tilde
\newcommand{\textapprox}{\raisebox{0.5ex}{\texttildelow}}
\newcommand{\todo}[1]{\textcolor{red}{\textbf{#1}}}

% Increase space between figure number and description in LOF LOT
\usepackage[subfigure, titles]{tocloft}
\cftsetindents{figure}{0em}{3.5em}
\cftsetindents{table}{0em}{3.5em}

% Rename Table of Contents
\addto\captionsUKenglish{
  \renewcommand{\contentsname}
    {Table of Contents}
}

% Appendices
\usepackage[titletoc]{appendix}

% Supplementary materials per chapter prefixed by "S"
\newenvironment{supplement}{%
	\setcounter{table}{0}
	\renewcommand{\thetable}{\thechapter{}.S\arabic{table}}%
	\setcounter{figure}{0}
	\renewcommand{\thefigure}{\thechapter{}.S\arabic{figure}}%
}{}

% Common definitions
\input{snippets/definitions}

% Don't reset page numbers after abstracts
\makeatletter
\renewenvironment{abstract}{%
  \clearpage
  \null\vfil
  \@beginparpenalty\@lowpenalty
  \section*{\abstractname}
  \@endparpenalty\@M
  }%
  {\par\vfil\null\clearpage}
\makeatother

% Optional page layouts with different fonts and page layout
% Default is pagefmt_submission.tex
\ifdefined\nicefmt
	\ifcase\nicefmt\relax
		\input{snippets/pagefmt_submission.tex}\or
		\input{snippets/pagefmt_nice.tex}\else
		\input{snippets/pagefmt_submission.tex}\fi
\else
	\input{snippets/pagefmt_submission.tex}
\fi

% Author contributions formatted block
\newcommand{\authorcontributions}[1]{%
\vspace{6pt}\noindent{\selectfont\textbf{Author Contributions:} {#1}\par}
}

% Paper authors formatted block
\newcommand{\paperauthors}[1]{%
\vspace{6pt}\noindent{\selectfont\textbf{Authors:} {#1}\par}
}

% Paper author affiliations formatted block
\usepackage{enumitem}
\newlist{paperaffil}{enumerate}{1}
\setlist[paperaffil]{label=\arabic*., leftmargin=*, topsep=6pt, itemsep=-1ex}

% Published paper full citation
\newcommand{\papercite}[1]{%
\vspace{6pt}\noindent{\fullcite{#1}\par}
}

% Links
\usepackage[hidelinks]{hyperref}
\hypersetup{linktoc=all}
